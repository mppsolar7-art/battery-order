<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>طلب بطاريات الليثيوم</title>
  <style>
    body {font-family: Tahoma, sans-serif; direction: rtl; text-align: right; padding: 20px; background:#f8f9fa;}
    .container {
      max-width: 600px;
      margin: 30px auto;
      background: #fff;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }
    header {text-align: center; margin-bottom: 20px;}
    header img {max-width: 120px; margin-bottom: 10px;}
    h2 {text-align: center; color: #0077b6; font-size: 24px;}
    .battery-option {
      display: flex;
      align-items: center;
      margin: 15px 0;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 10px;
      transition: 0.3s;
      cursor: pointer;
    }
    .battery-option:hover {background: #f0f8ff;}
    .battery-option img {
      width: 80px;
      height: 60px;
      object-fit: cover;
      margin-left: 15px;
      border-radius: 8px;
    }
    label {flex: 1; font-size: 18px;}
    input[type="checkbox"] {transform: scale(1.3); margin-left: 10px;}
    input[type="number"] {width: 60px; margin-right: 10px; padding:5px;}
    input[type="text"], input[type="tel"] {
      width: 100%;
      padding: 12px;
      margin-top: 5px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 16px;
    }
    button {
      margin-top: 20px;
      width: 100%;
      padding: 14px;
      background: #0077b6;
      color: white;
      font-size: 18px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    button:hover {background: #023e8a;}
    #total {font-weight: bold; margin-top: 15px; color: green;}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <img src="logo.jpeg" alt="شعار الشركة">
      <h2>🛒 اطلب بطاريات الليثيوم الخاصة بنا</h2>
    </header>

    <form id="orderForm">
      <div class="battery-option">
        <input type="checkbox" name="battery" value="بطارية 24V 100Ah" data-price="385">
        <img src="10024.jpg" alt="بطارية 24V 100Ah">
        <label>بطارية 24V 100Ah - 385$</label>
        الكمية: <input type="number" name="qty_24v_100ah" min="1" max="10" value="1">
      </div>

      <div class="battery-option">
        <input type="checkbox" name="battery" value="بطارية 24V 200Ah" data-price="700">
        <img src="20024.jpg" alt="بطارية 24V 200Ah">
        <label>بطارية 24V 200Ah - 700$</label>
        الكمية: <input type="number" name="qty_24v_200ah" min="1" max="10" value="1">
      </div>

      <div class="battery-option">
        <input type="checkbox" name="battery" value="بطارية 48V 300Ah" data-price="1675">
        <img src="30048.jpg" alt="بطارية 48V 300Ah">
        <label>بطارية 48V 300Ah - 1675$</label>
        الكمية: <input type="number" name="qty_48v_300ah" min="1" max="10" value="1">
      </div>

      <div class="battery-option">
        <input type="checkbox" name="battery" value="بطارية 48V 200Ah" data-price="1325">
        <img src="20048.jpg" alt="بطارية 48V 200Ah">
        <label>بطارية 48V 200Ah - 1325$</label>
        الكمية: <input type="number" name="qty_48v_200ah" min="1" max="10" value="1">
      </div>

      <div class="battery-option">
        <input type="checkbox" name="battery" value="Inverter 6000w 48V" data-price="290">
        <img src="600048.jpg" alt="Inverter 6000w 48v">
        <label>Inverter 6000w 48V - 290$</label>
        الكمية: <input type="number" name="qty_inverter_6000w" min="1" max="10" value="1">
      </div>

      <div>
        <label>📱 رقم الهاتف:</label><br>
        <input type="text" id="phone" name="phone" required><br>

        <label>📍 العنوان:</label><br>
        <input type="text" id="address" name="address" required><br>

        <div id="total">💰 المجموع الكلي: 0$</div>

        <button type="submit">إرسال الطلب عبر واتساب</button>
      </div>

      <div style="margin-top:15px; font-weight:bold; text-align:center;">
        شركة التقانات السورية (SYRTECH)<br>
        للاستفسار الاتصال على ☎️ 0112133364
      </div>
    </form>
  </div>

  <script>
    const checkboxes = document.querySelectorAll('input[name="battery"]');
    const qtyInputs = document.querySelectorAll('input[type="number"]');
    const totalDiv = document.getElementById("total");

    function calculateTotal() {
      let total = 0;
      checkboxes.forEach(cb => {
        if(cb.checked) {
          let qtyInput = cb.parentElement.querySelector('input[type="number"]');
          let qty = qtyInput ? parseInt(qtyInput.value) : 1;
          let price = parseInt(cb.getAttribute("data-price"));
          total += price * qty;
        }
      });
      totalDiv.textContent = "💰 المجموع الكلي: " + total + "$";
      return total;
    }

    // تحديث المجموع عند تغيير الكمية أو الاختيار
    checkboxes.forEach(cb => cb.addEventListener('change', calculateTotal));
    qtyInputs.forEach(input => input.addEventListener('input', calculateTotal));

    document.getElementById("orderForm").addEventListener("submit", function(event){
      event.preventDefault();
      let items = [];
      let total = 0;

      checkboxes.forEach(cb => {
        if(cb.checked) {
          let qtyInput = cb.parentElement.querySelector('input[type="number"]');
          let qty = qtyInput ? parseInt(qtyInput.value) : 1;
          let price = parseInt(cb.getAttribute("data-price"));
          total += price * qty;
          items.push(`${cb.value} (x${qty})`);
        }
      });

      let phone = document.getElementById("phone").value;
      let address = document.getElementById("address").value;

      if(items.length === 0){
        alert("الرجاء اختيار نوع البطارية أولاً ✅");
        return;
      }

      let whatsappLink = `https://wa.me/+963969373950?text=مرحباً، أريد طلب:%0A- ${items.join("%0A- ")}%0A📱 الهاتف: ${phone}%0A📍 العنوان: ${address}%0A💰 المجموع الكلي: ${total}$`;

      window.open(whatsappLink, "_blank");
    });
  </script>
</body>
</html>